(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2714:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(5155),r=s(2115),i=s(7073),n=s(2085),l=s(3999);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),s),...r})});c.displayName=i.b.displayName},3801:(e,t,s)=>{Promise.resolve().then(s.bind(s,6939))},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(2596),r=s(9688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},4954:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});let a="cookie_projects";class r{static getAll(){try{let e=localStorage.getItem(a);return e?JSON.parse(e):[]}catch(e){return console.error("Errore nel leggere i progetti:",e),[]}}static saveAll(e){try{localStorage.setItem(a,JSON.stringify(e))}catch(e){console.error("Errore nel salvare i progetti:",e)}}static create(e){let t=this.getAll(),s=new Date().toISOString(),a={...e,id:this.generateId(),created_at:s,updated_at:s};return t.push(a),this.saveAll(t),a}static getByUser(e){return this.getAll().filter(t=>t.user_id===e)}static getById(e){return this.getAll().find(t=>t.id===e)||null}static update(e,t){let s=this.getAll(),a=s.findIndex(t=>t.id===e);return -1===a?null:(s[a]={...s[a],...t,updated_at:new Date().toISOString()},this.saveAll(s),s[a])}static delete(e){let t=this.getAll(),s=t.filter(t=>t.id!==e);return s.length!==t.length&&(this.saveAll(s),!0)}static generateId(){return"project_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}static exportToJSON(){return JSON.stringify(this.getAll(),null,2)}static importFromJSON(e){try{let t=JSON.parse(e);if(Array.isArray(t))return this.saveAll(t),!0;return!1}catch(e){return console.error("Errore nell'importare i progetti:",e),!1}}static clear(){localStorage.removeItem(a)}static getStats(){let e=this.getAll(),t={};return e.forEach(e=>{t[e.user_id]=(t[e.user_id]||0)+1}),{total:e.length,byUser:t}}}},6939:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),r=s(5695),i=s(2115),n=s(9137),l=s.n(n),o=s(7168),c=s(8482),d=s(9852),b=s(2714),x=s(2085),u=s(3999);let m=(0,x.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),p=i.forwardRef((e,t)=>{let{className:s,variant:r,...i}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,u.cn)(m({variant:r}),s),...i})});p.displayName="Alert",i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,u.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let h=i.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,u.cn)("text-sm [&_p]:leading-relaxed",s),...r})});h.displayName="AlertDescription";var g=s(4954),f=s(7445);function j(e){var t;let{userId:s}=e,[r,n]=(0,i.useState)([]),[x,u]=(0,i.useState)(!0),[m,j]=(0,i.useState)(null),[v,N]=(0,i.useState)(!1),[y,k]=(0,i.useState)(!1),[w,B]=(0,i.useState)({isBackingUp:!1,lastBackupTime:0,timeSinceLastBackup:0}),[z,S]=(0,i.useState)({name:"",domain:"",language:"it"});(0,i.useEffect)(()=>{C(),f.K.startAutoBackup(),f.K.restoreFromTurso().then(()=>{C()});let e=setInterval(()=>{B(f.K.getBackupStatus())},5e3);return()=>clearInterval(e)},[s]);let C=()=>{try{u(!0);let e=g.B.getByUser(s);n(e)}catch(e){j(e instanceof Error?e.message:"Errore nel caricamento progetti")}finally{u(!1)}},D=async e=>{if(e.preventDefault(),!z.name||!z.domain)return void j("Nome e dominio sono obbligatori");try{k(!0),j(null);let e=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,userId:s})});if(!e.ok){let t=await e.json();throw Error(t.error||"Errore nella creazione del progetto")}let t=await e.json(),a=g.B.create({user_id:s,name:z.name,domain:z.domain,language:z.language,banner_config:t.banner_config});n([a,...r]),S({name:"",domain:"",language:"it"}),N(!1),f.K.forceBackup()}catch(e){j(e instanceof Error?e.message:"Errore sconosciuto")}finally{k(!1)}},E=e=>{if(confirm("Sei sicuro di voler eliminare questo progetto? Questa azione non pu\xf2 essere annullata."))try{g.B.delete(e)?(n(r.filter(t=>t.id!==e)),f.K.forceBackup()):j("Errore nell'eliminazione del progetto")}catch(e){j(e instanceof Error?e.message:"Errore sconosciuto")}},T=e=>{let t=window.location.origin;return'<script src="'.concat(t,"/api/script/").concat(e,'" async><\/script>')},A=e=>{navigator.clipboard.writeText(e),alert("Script copiato negli appunti!")},I=async()=>{try{j(null);let e=await f.K.syncWithTurso();C(),alert("Sincronizzazione completata!\nEsportati: ".concat(e.exported," progetti\nImportati: ").concat(e.imported," progetti"))}catch(e){j("Errore nella sincronizzazione con Turso")}};return x?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b space-y-6",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b",children:[(0,a.jsx)("h2",{className:"jsx-fbc82e9bb55a5b9b text-2xl font-bold text-gray-900",children:"I tuoi Progetti"}),(0,a.jsx)("p",{className:"jsx-fbc82e9bb55a5b9b text-gray-600",children:"Gestiti localmente + backup automatico Turso"})]}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b flex space-x-2",children:(0,a.jsx)(o.$,{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-700",children:"+ Nuovo Progetto"})})]}),(0,a.jsx)(c.Zp,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:(0,a.jsx)(c.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b",children:[(0,a.jsx)("h3",{className:"jsx-fbc82e9bb55a5b9b font-medium text-blue-900",children:"Backup Turso"}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("span",{className:"jsx-fbc82e9bb55a5b9b "+"flex items-center space-x-1 ".concat(w.isBackingUp?"text-orange-600":"text-green-600"),children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b "+"w-2 h-2 rounded-full ".concat(w.isBackingUp?"bg-orange-500 animate-pulse":"bg-green-500")}),(0,a.jsx)("span",{className:"jsx-fbc82e9bb55a5b9b",children:w.isBackingUp?"Backup in corso...":"Backup attivo"})]}),w.lastBackupTime>0&&(0,a.jsxs)("span",{className:"jsx-fbc82e9bb55a5b9b text-blue-700",children:["Ultimo backup: ",(t=w.timeSinceLastBackup)<6e4?"".concat(Math.floor(t/1e3),"s fa"):t<36e5?"".concat(Math.floor(t/6e4),"m fa"):"".concat(Math.floor(t/36e5),"h fa")]})]})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex space-x-2",children:[(0,a.jsx)(o.$,{onClick:()=>{let e=new Blob([g.B.exportToJSON()],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="cookie-projects-backup-".concat(new Date().toISOString().split("T")[0],".json"),s.click(),URL.revokeObjectURL(t)},variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"\uD83D\uDCE5 Esporta JSON"}),(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let a=new FileReader;a.onload=e=>{try{var t;let s=null==(t=e.target)?void 0:t.result;g.B.importFromJSON(s)?(C(),f.K.forceBackup(),alert("Progetti importati con successo!")):j("Errore nell'importazione: formato file non valido")}catch(e){j("Errore nell'importazione del file")}},a.readAsText(s),e.target.value=""},id:"import-input",className:"jsx-fbc82e9bb55a5b9b hidden"}),(0,a.jsx)(o.$,{onClick:()=>{var e;return null==(e=document.getElementById("import-input"))?void 0:e.click()},variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"\uD83D\uDCE4 Importa JSON"}),(0,a.jsx)(o.$,{onClick:I,variant:"outline",size:"sm",className:"border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white",children:"\uD83D\uDD04 Sincronizza"})]})]})})}),m&&(0,a.jsx)(p,{className:"border-red-200 bg-red-50",children:(0,a.jsxs)(h,{className:"text-red-700",children:[m,(0,a.jsx)(o.$,{onClick:()=>j(null),variant:"ghost",size:"sm",className:"ml-2 text-red-700 hover:text-red-900",children:"✕"})]})}),v&&(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Crea Nuovo Progetto"}),(0,a.jsx)(c.BT,{children:"Inserisci le informazioni del tuo sito web per creare un nuovo progetto"})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("form",{onSubmit:D,className:"jsx-fbc82e9bb55a5b9b space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b",children:[(0,a.jsx)(b.J,{htmlFor:"name",children:"Nome Progetto"}),(0,a.jsx)(d.p,{id:"name",value:z.name,onChange:e=>S({...z,name:e.target.value}),placeholder:"Es: Il mio sito web",required:!0})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b",children:[(0,a.jsx)(b.J,{htmlFor:"domain",children:"Dominio"}),(0,a.jsx)(d.p,{id:"domain",value:z.domain,onChange:e=>S({...z,domain:e.target.value}),placeholder:"Es: example.com",required:!0})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b",children:[(0,a.jsx)(b.J,{htmlFor:"language",children:"Lingua"}),(0,a.jsxs)("select",{id:"language",value:z.language,onChange:e=>S({...z,language:e.target.value}),className:"jsx-fbc82e9bb55a5b9b w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"it",className:"jsx-fbc82e9bb55a5b9b",children:"Italiano"}),(0,a.jsx)("option",{value:"en",className:"jsx-fbc82e9bb55a5b9b",children:"English"}),(0,a.jsx)("option",{value:"es",className:"jsx-fbc82e9bb55a5b9b",children:"Espa\xf1ol"}),(0,a.jsx)("option",{value:"fr",className:"jsx-fbc82e9bb55a5b9b",children:"Fran\xe7ais"}),(0,a.jsx)("option",{value:"de",className:"jsx-fbc82e9bb55a5b9b",children:"Deutsch"})]})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex space-x-3",children:[(0,a.jsx)(o.$,{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:y?"Creazione...":"Crea Progetto"}),(0,a.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Annulla"})]})]})})]}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b grid gap-6",children:0===r.length?(0,a.jsx)(c.Zp,{children:(0,a.jsx)(c.Wu,{className:"text-center py-8",children:(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b text-gray-500",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",className:"jsx-fbc82e9bb55a5b9b mx-auto h-12 w-12 mb-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5a2 2 0 00-2 2v6a2 2 0 002 2h14m-5 10v-2a2 2 0 00-2-2H5a2 2 0 00-2 2v2a2 2 0 002 2h7m5 0v2a2 2 0 002 2h7a2 2 0 002-2v-2a2 2 0 00-2-2h-7z",className:"jsx-fbc82e9bb55a5b9b"})}),(0,a.jsx)("h3",{className:"jsx-fbc82e9bb55a5b9b text-lg font-medium",children:"Nessun progetto"}),(0,a.jsx)("p",{className:"jsx-fbc82e9bb55a5b9b",children:"Crea il tuo primo progetto per iniziare"}),(0,a.jsx)("p",{className:"jsx-fbc82e9bb55a5b9b text-sm mt-2 text-blue-600",children:"✨ Salvato localmente + backup automatico Turso"})]})})}):r.map(e=>(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b",children:[(0,a.jsx)(c.ZB,{className:"text-xl",children:e.name}),(0,a.jsxs)(c.BT,{className:"mt-1",children:[e.domain," • ",e.language.toUpperCase()]})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b flex space-x-2",children:[(0,a.jsx)(o.$,{onClick:()=>A(T(e.id)),size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white",children:"\uD83D\uDCCB Copia Script"}),(0,a.jsx)(o.$,{onClick:()=>{window.open("/editor/".concat(e.id),"_blank")},size:"sm",variant:"outline",className:"text-purple-600 border-purple-600 hover:bg-purple-600 hover:text-white",children:"\uD83C\uDFA8 Personalizza Banner"}),(0,a.jsx)(o.$,{onClick:()=>E(e.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:"\uD83D\uDDD1️ Elimina"})]})]})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b bg-gray-50 p-3 rounded",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Stato"}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b font-semibold text-green-600",children:"\uD83D\uDFE2 Attivo + Backup"})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b bg-gray-50 p-3 rounded",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Creato"}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b font-semibold",children:new Date(e.created_at).toLocaleDateString("it-IT")})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b bg-gray-50 p-3 rounded",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Aggiornato"}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b font-semibold",children:new Date(e.updated_at).toLocaleDateString("it-IT")})]})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b bg-gray-100 p-3 rounded text-sm",children:[(0,a.jsx)("strong",{className:"jsx-fbc82e9bb55a5b9b",children:"Script di integrazione:"}),(0,a.jsx)("pre",{className:"jsx-fbc82e9bb55a5b9b mt-2 text-xs bg-white p-2 rounded border overflow-x-auto",children:T(e.id)})]})]})]},e.id))}),r.length>0&&(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-lg",children:"Statistiche"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b text-center",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-2xl font-bold text-blue-600",children:r.length}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Progetti Totali"})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b text-center",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-2xl font-bold text-green-600",children:r.length}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Progetti Attivi"})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b text-center",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-2xl font-bold text-purple-600",children:"☁️"}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Backup Turso"})]}),(0,a.jsxs)("div",{className:"jsx-fbc82e9bb55a5b9b text-center",children:[(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-2xl font-bold text-orange-600",children:"\uD83D\uDD04"}),(0,a.jsx)("div",{className:"jsx-fbc82e9bb55a5b9b text-sm text-gray-600",children:"Sincronizzazione"})]})]})})]}),(0,a.jsx)(l(),{id:"fbc82e9bb55a5b9b",children:".btn-outline.jsx-fbc82e9bb55a5b9b{background:transparent;color:#4f46e5;border:1px solid#4f46e5;text-decoration:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:8px 16px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-outline.jsx-fbc82e9bb55a5b9b:hover{background:#4f46e5;color:white;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}"})]})}function v(){let e=(0,r.useRouter)(),[t,s]=(0,i.useState)("overview");return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg mr-3",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,a.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent cursor-pointer",onClick:()=>s("overview"),children:"Cookie Facile"})]}),"overview"!==t&&(0,a.jsxs)("nav",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>s("overview"),className:"px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("overview"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"),children:"Dashboard"}),(0,a.jsx)("button",{onClick:()=>s("projects"),className:"px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("projects"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"),children:"Progetti"}),(0,a.jsx)("button",{onClick:()=>s("analytics"),className:"px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("analytics"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"),children:"Analytics"})]}),(0,a.jsx)("button",{onClick:()=>{e.push("/")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Esci"})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(()=>{switch(t){case"projects":return(0,a.jsx)(j,{userId:"test-user-id"});case"analytics":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Sezione analytics in sviluppo..."})]});case"settings":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Impostazioni"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Sezione impostazioni in sviluppo..."})]});default:return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uD83C\uDF89 Login Effettuato con Successo!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Benvenuto nella dashboard di Cookie Facile. Crea il tuo primo progetto per iniziare."}),(0,a.jsxs)("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Sistema Operativo"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s("projects"),children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Progetti"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Gestisci i tuoi progetti di gestione cookie per diversi siti web."}),(0,a.jsx)("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Gestisci Progetti"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s("analytics"),children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Analytics"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Visualizza statistiche sui consensi e comportamenti degli utenti."}),(0,a.jsx)("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Vedi Analytics"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s("settings"),children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsxs)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Impostazioni"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Configura le impostazioni del tuo account e preferenze."}),(0,a.jsx)("button",{className:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Impostazioni"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stato del Sistema"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Database Connesso"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"API Funzionante"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Login Operativo"})]})]})]})]})}})()})})]})}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(5155),r=s(2115),i=s(4624),n=s(2085),l=s(3999);let o=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...d}=e,b=c?i.DX:"button";return(0,a.jsx)(b,{className:(0,l.cn)(o({variant:r,size:n,className:s})),ref:t,...d})});c.displayName="Button"},7445:(e,t,s)=>{"use strict";s.d(t,{K:()=>r});var a=s(4954);class r{static startAutoBackup(){console.log("\uD83D\uDD04 Backup automatico Turso avviato"),this.performBackup(),setInterval(()=>{this.performBackup()},this.backupInterval)}static async performBackup(){if(!this.isBackingUp)try{this.isBackingUp=!0;let e=a.B.getAll();if(0===e.length)return void console.log("\uD83D\uDCE6 Nessun progetto da backuppare");(await fetch("/api/backup/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projects:e,timestamp:new Date().toISOString()})})).ok?(this.lastBackupTime=Date.now(),console.log("✅ Backup completato: ".concat(e.length," progetti salvati su Turso"))):console.log("⚠️ Backup fallito, progetti salvati solo localmente")}catch(e){console.log("⚠️ Errore backup:",e)}finally{this.isBackingUp=!1}}static async forceBackup(){try{return await this.performBackup(),!0}catch(e){return console.error("Errore nel backup forzato:",e),!1}}static async restoreFromTurso(){try{let e=await fetch("/api/backup/restore",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Errore nel ripristino da Turso");let t=await e.json();if(t.projects&&t.projects.length>0){let e=a.B.getAll(),s=new Set(e.map(e=>e.id)),r=t.projects.filter(e=>!s.has(e.id));for(let e of r)a.B.create({user_id:e.user_id,name:e.name,domain:e.domain,language:e.language,banner_config:e.banner_config});return console.log("✅ Ripristinati ".concat(r.length," progetti da Turso")),!0}return!1}catch(e){return console.error("Errore nel ripristino:",e),!1}}static getBackupStatus(){return{isBackingUp:this.isBackingUp,lastBackupTime:this.lastBackupTime,timeSinceLastBackup:Date.now()-this.lastBackupTime}}static async syncWithTurso(){try{let e=await this.restoreFromTurso();await this.performBackup();let t=a.B.getAll();return{imported:+!!e,exported:t.length}}catch(e){return console.error("Errore nella sincronizzazione:",e),{imported:0,exported:0}}}}r.isBackingUp=!1,r.lastBackupTime=0,r.backupInterval=3e4},8482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l});var a=s(5155),r=s(2115),i=s(3999);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155),r=s(2115),i=s(3999);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[770,441,684,358],()=>t(3801)),_N_E=e.O()}]);