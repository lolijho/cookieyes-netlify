(()=>{var e={};e.id=64,e.ids=[64],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4500:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>j,routeModule:()=>u,serverHooks:()=>g,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var o={};r.r(o),r.d(o,{GET:()=>c,POST:()=>p});var s=r(6559),a=r(8088),n=r(7719),i=r(2190);async function c(e){try{return console.log("GET /api/projects - Richiesta ricevuta"),i.NextResponse.json({message:"API progetti attiva - gestione lato client con localStorage",status:"ready"})}catch(e){return console.error("GET /api/projects - Errore:",e),i.NextResponse.json({error:"Errore interno del server"},{status:500})}}async function p(e){try{console.log("POST /api/projects - Richiesta ricevuta");let t=await e.json();console.log("POST /api/projects - Body ricevuto:",t);let{userId:r,name:o,domain:s,language:a}=t;if(!r||!o||!s)return i.NextResponse.json({error:"Parametri mancanti: userId, name, domain sono richiesti"},{status:400});if(!/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/.test(s))return i.NextResponse.json({error:"Formato dominio non valido"},{status:400});let n="project_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),c=new Date().toISOString(),p={id:n,user_id:r,name:o,domain:s,language:a||"it",banner_config:{layout:"bottom",colors:{background:"#ffffff",text:"#333333",button_accept:"#4f46e5",button_reject:"#6b7280",button_settings:"#4f46e5"},texts:{title:"Utilizziamo i cookie",description:"Questo sito utilizza cookie per migliorare la tua esperienza di navigazione.",accept_all:"Accetta tutti",reject_all:"Rifiuta",settings:"Personalizza",save_preferences:"Salva Preferenze"},categories:{necessary:!0,analytics:!0,marketing:!0,preferences:!0}},created_at:c,updated_at:c};return console.log("POST /api/projects - Progetto generato:",p),i.NextResponse.json(p,{status:201})}catch(e){return console.error("POST /api/projects - Errore:",e),i.NextResponse.json({error:"Errore interno del server"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"/Users/cuweb/Desktop/cookiefacile/cookie/app/api/projects/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:g}=u;function j(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,580],()=>r(4500));module.exports=o})();